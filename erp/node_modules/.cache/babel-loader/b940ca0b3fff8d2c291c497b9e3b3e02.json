{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\New folder\\\\erp\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { Link, useHistory } from 'react-router-dom';\nimport { BiLogIn } from \"react-icons/bi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [inputField, setInputField] = useState({\n    email: '',\n    password: ''\n  });\n  const history = useHistory();\n  const [errField, setErrField] = useState({\n    emailErr: '',\n    passwordErr: ''\n  });\n\n  const validForm = () => {\n    let formIsValid = true;\n    setErrField({\n      emailErr: '',\n      passwordErr: ''\n    });\n\n    if (inputField.email == '') {\n      formIsValid = false;\n      setErrField(prevState => ({ ...prevState,\n        emailErr: 'Please Enter Email'\n      }));\n    }\n\n    if (inputField.password == '') {\n      formIsValid = false;\n      setErrField(prevState => ({ ...prevState,\n        passwordErr: 'Please Enter Password'\n      }));\n    }\n\n    return formIsValid;\n  };\n\n  const inputHandler = e => {\n    setInputField({ ...inputField,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const submitButton = async () => {\n    if (validForm()) {\n      let url = 'http://localhost:8080/users/login';\n      let options = {\n        method: 'POST',\n        url: url,\n        headers: {},\n        data: inputField\n      };\n\n      try {\n        let response = await axios(options);\n        console.log(response);\n\n        if (response.data.statusText == 'Success') {\n          toast.success(\"Login Successfully\");\n          localStorage.setItem('token', response.data.token);\n          setTimeout(() => {\n            history.push('/home');\n          }, 1500);\n        } else {\n          toast.error(response.data.message);\n        }\n      } catch (e) {\n        toast.error(\"Something Went Wrong!\");\n      }\n    } else {\n      toast.error(\"Form Invalid!\");\n    }\n  };\n\n  const changePassword = async () => {\n    history.push('/reset-password');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row login\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"\",\n          style: {\n            marginTop: '20px'\n          },\n          children: \"Login User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 83\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          autoComplete: \"off\",\n          action: \"\",\n          method: \"post\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: \"form-control\",\n              name: \"email\",\n              autoComplete: \"off\",\n              value: inputField.email,\n              onChange: inputHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), errField.emailErr.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error\",\n              children: errField.emailErr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 65\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              name: \"password\",\n              autoComplete: \"off\",\n              value: inputField.password,\n              onChange: inputHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this), errField.passwordErr.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error\",\n              children: errField.passwordErr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 68\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"forget\",\n              onClick: changePassword,\n              children: \"Forget Password ?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary\",\n              onClick: submitButton,\n              children: [\"Login\", /*#__PURE__*/_jsxDEV(BiLogIn, {\n                style: {\n                  fontSize: '22'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 107\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/registration\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-success\",\n                children: \"Add User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 56\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"kRx3wY3DRgwtwP1UFAeYkI26LYg=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/HP/Desktop/New folder/erp/src/components/Login.js"],"names":["React","useState","axios","ToastContainer","toast","Link","useHistory","BiLogIn","Login","inputField","setInputField","email","password","history","errField","setErrField","emailErr","passwordErr","validForm","formIsValid","prevState","inputHandler","e","target","name","value","submitButton","url","options","method","headers","data","response","console","log","statusText","success","localStorage","setItem","token","setTimeout","push","error","message","changePassword","marginTop","length","fontSize"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\nimport axios from 'axios'\nimport { ToastContainer, toast } from 'react-toastify';\nimport { Link,useHistory } from 'react-router-dom';\nimport { BiLogIn } from \"react-icons/bi\";\n\nfunction Login() {\n\n    const [inputField,setInputField] = useState({\n        email:'', \n        password:'', \n    })\n    const history = useHistory()\n    const [errField,setErrField] = useState({\n         \n        emailErr:'',\n        passwordErr:'', \n    })\n    const validForm = ()=>{\n        let formIsValid = true; \n        setErrField({ \n            emailErr:'',\n            passwordErr:'', \n        }) \n        if(inputField.email ==''){\n            formIsValid = false\n            setErrField(prevState=>({\n                ...prevState,emailErr:'Please Enter Email'\n            }))\n        }  \n        if(inputField.password ==''){\n            formIsValid = false\n            setErrField(prevState=>({\n                ...prevState,passwordErr:'Please Enter Password'\n            }))\n        }  \n        return formIsValid \n    }\n    const inputHandler =(e)=>{ \n        setInputField({...inputField,[e.target.name]:e.target.value })\n    } \n\n    const submitButton = async ()=>{\n        if(validForm()){\n            let url = 'http://localhost:8080/users/login'\n            let options = {\n                method:'POST',\n                url:url,\n                headers:{\n\n                },\n                data:inputField\n            }\n            try{\n                let response = await axios(options)\n                console.log(response)\n                if(response.data.statusText =='Success'){ \n                    toast.success(\"Login Successfully\");\n                    localStorage.setItem('token',response.data.token)\n                    setTimeout(()=>{\n                        history.push('/home')\n                    },1500) \n                }else{\n                    toast.error(response.data.message);\n                }\n            }catch(e){\n                toast.error(\"Something Went Wrong!\");\n            }\n           \n        }else{\n            toast.error(\"Form Invalid!\");\n        }\n    }\n    const changePassword = async ()=>{  \n        history.push('/reset-password') \n    }\n    return (\n        <div className=\"container\">\n            <div className=\"row login\">\n\n                <div className=\"col-md-2\">\n                </div>\n                <div className=\"col-md-6\">\n                <ToastContainer/>\n                    <h3 className=\"\" style={{ marginTop: '20px' }}>Login User</h3><br />\n                    <form autoComplete=\"off\" action=\"\" method=\"post\" >\n                       <div className=\"mb-3\">\n                            <label className=\"form-label\">Email</label>\n                            <input type=\"email\" className=\"form-control\" name=\"email\" autoComplete=\"off\"  value={inputField.email} onChange={inputHandler}  />\n                            {\n                                errField.emailErr.length > 0 && <span className=\"error\">{errField.emailErr}</span>\n                            }\n                        </div>\n                        <div className=\"mb-3\">\n                            <label  className=\"form-label\">Password</label>\n                            <input type=\"password\" className=\"form-control\" name=\"password\" autoComplete=\"off\"  value={inputField.password} onChange={inputHandler}  />\n                            {\n                                errField.passwordErr.length > 0 && <span className=\"error\">{errField.passwordErr}</span>\n                            }\n                           <span className=\"forget\" onClick={changePassword}>Forget Password ?</span>\n                        </div>\n                        <div>\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={submitButton}>Login<BiLogIn style={{ fontSize: '22' }} /></button>&nbsp;\n                            <Link to =\"/registration\"> <button type=\"button\"  className=\"btn btn-success\">Add User</button></Link>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}